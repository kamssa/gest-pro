<div class="row">
<div *ngIf="projet">
  <div fxLayout="row" fxLayoutAlign="space-between">
    <button mat-raised-button (click)="onCumulDepense(projet.id)">Dépense totale</button>
    <button mat-raised-button (click)="onDate(projet.id)">Dépense par date</button>
  </div>
  <div>
  </div>
  <mat-accordion class="example-headers-align" >
    <mat-expansion-panel (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false">
      <mat-expansion-panel-header>

        <br>
        <mat-panel-title class="info">
          <h3>Les informations sur le projet : {{projet.libelle}}</h3>
        </mat-panel-title>
        <mat-panel-description>
          {{panelOpenState ? 'Fermer' : 'Ouvrir'}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <h3 class="site">Projet : {{projet.libelle}}</h3>
      <h3 class="site">Numero du bon  : {{projet.numeroBon}}</h3>
      <h3 class="site">Budget : {{projet.budget | number}} CFA</h3>
      <h3 class="site">Debousser Sec : {{projet.debousserSec|number}} CFA</h3>
      <h3 class="site">Acompte : {{projet.accompte|number}} CFA</h3>
      <h3 class="site"> Solde : {{projet.reste| number}} CFA</h3>
      <h3 class="site">Dépense : {{projet.total| number}} CFA</h3>
      <h3 class="site">Evolution : {{projet.percent | number}} %</h3>
      <h3 class="site">Debut des travaux : {{projet.date | date: 'dd/MM/yyyy'}}</h3>
      <h3 class="site">Date de livraison :  {{projet.dateLivraison | date: 'dd/MM/yyyy'}} </h3>
      <hr>
      <div fxLayout="row" fxLayoutAlign="space-between">
        <button mat-raised-button class="boutonEnr"  (click)="update(projet.id)"> Modifier
        </button>
        <div class="action-3">
          <div class="" matTooltip="créer un nouvau chantier" matTooltipPosition="right">
            <a mat-mini-fab (click)="add(projet.id)" color="warn">
              <mat-icon>add</mat-icon>
            </a>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <br>
  <mat-divider></mat-divider>
  <div fxLayout="row" fxLayoutAlign="space-around center">
      <button mat-button (click)="achat()" color="accent"  >Retrait du stock</button>
      <button mat-button (click)="autreachat()" color="accent">Ajout achat</button>
      <button mat-button (click)="location()" color="accent">Ajout location</button>
      <button  mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu = "matMenu" yPosition="above">
        <button mat-menu-item (click)="loyer()">
          <span>Ajout loyer</span>
        </button>
      <button mat-menu-item (click)="ouvre()">
        <span>Ajout main d'ouvre</span>
      </button>
    <button mat-menu-item (click)="transport()">
        <span>Ajout transport</span>
      </button>
    <button mat-menu-item (click)="autre()">
        <span>Ajout Divers</span>
      </button>
      </mat-menu>
    </div>
  <div>
    <app-edit-achat-travaux projetId="{{projetId}}" *ngIf="edit==0" (change)="montantChange($event)"></app-edit-achat-travaux>
    <app-edit-location-travaux  projetId="{{projetId}}" *ngIf="edit==2" (change)="montantChange($event)"></app-edit-location-travaux>
    <app-edit-mainouvre-travaux projetId="{{projetId}}" *ngIf="edit==3" (change)="montantChange($event)"></app-edit-mainouvre-travaux>
    <app-detail-loyer projetId="{{projetId}}" *ngIf="edit==4" (change)="montantChange($event)"></app-detail-loyer>
    <app-edit-transp-travaux projetId="{{projetId}}" *ngIf="edit==5" (change)="montantChange($event)"></app-edit-transp-travaux>
    <app-edit-autredepense-travaux projetId="{{projetId}}" *ngIf="edit==6" (change)="montantChange($event)"></app-edit-autredepense-travaux>
    <app-autre-achat-travaux projetId="{{projetId}}" *ngIf="edit==7" (change)="montantChange($event)"></app-autre-achat-travaux>

  </div>
</div>
</div>

